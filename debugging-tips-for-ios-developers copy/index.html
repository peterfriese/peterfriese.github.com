
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Debugging Tips for iOS Developers - Peter Friese</title>
  <meta name="author" content="Peter Friese">

  
  <meta name="description" content="Let&#8217;s face it - no matter how hard you try, no matter how disciplined you are in writing unit tests and following the TDD drill of writing a &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.peterfriese.de/debugging-tips-for-ios-developers+copy/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Peter Friese" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<!-- FancyBox -->
<link rel="stylesheet" type="text/css" href="/stylesheets/jquery.fancybox.css?v=2.1.4" media="screen" />

<!-- Fix FancyBox style for OctoPress -->
<style type="text/css">
  .fancybox-wrap { position: fixed !important; }
  .fancybox-opened {
    -webkit-border-radius: 4px !important;
       -moz-border-radius: 4px !important;
            border-radius: 4px !important;
  }
  .fancybox-close, .fancybox-prev span, .fancybox-next span {
    background-color: transparent !important;
    border: 0 !important;
  }
</style>


<!-- Add the following section for flattr -->

<script type="text/javascript">
/* <![CDATA[ */
    (function() {
        var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
        s.type = 'text/javascript';
        s.async = true;
        s.src = 'http://api.flattr.com/js/0.6/load.js?mode=auto';
        t.parentNode.insertBefore(s, t);
    })();
/* ]]> */</script>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3683476-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  <script src="http://cdn.lanyrd.net/badges/person-v1.min.js"></script>
</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Peter Friese</a></h1>
  
    <h2>Software Architect / Mobile Developer / Public Speaker</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.peterfriese.de" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/speaking">Speaking</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      
        <h1 class="entry-title">Debugging Tips for iOS Developers</h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2013-11-20T14:36:00+00:00" pubdate data-updated="true">Nov 20<span>th</span>, 2013</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content">
    
  <p>
    <img class="left" src="/images/2013-11-20-debugging-tips-for-ios-developers/xcode_150x150.png">
  </p>
  
  <p>Let&#8217;s face it - no matter how hard you try, no matter how disciplined you are in writing unit tests and following the TDD drill of writing a failing test first and then adding the production code that turns the test green - bugs are inevitably linked to our lives. In this post, I&#8217;ll show you a number of debugging techniques that might come in handy for your next project. Hopefully, you know some of them already, but I am sure some of them will be new for you.</p>

<!-- more -->


<p>Sometimes, you are responsible for a bug, sometimes bugs are in a third party library you use in your project. And sometimes, the documentation of an API doesn&#8217;t match the implementation, giving you funny results for code that slavishly adheres to the official documentation.</p>

<p>With the following techniques, you&#8217;ll be able to go hunting for bugs and find out where they came from. Once you&#8217;ve found out (and fixed the bug), you should consider writing a unit test to prevent future regressions. So, here we go.</p>

<h2>NSLog Debugging</h2>

<p>What is sometimes considered ancient, can sometimes be a great asset. There is no shortage of logging frameworks for any given programming language, and Objective-C / iOS is <a href="http://cocoapods.org/?q=name%3Alogger">no exception to this</a>.</p>

<blockquote><p>The most effective debugging tool is still careful thought, coupled with judiciously placed print statements.</p><footer><strong>Brian W. Kernighan</strong> <cite>Unix for Beginners</cite></footer></blockquote>


<p>Sometimes, adding a logging framework is just overhead. However, instead of sprinkling your code with <code>NSLog</code> statements and later having to remove them when you go to production, consider using a slightly more sophisticated approach. Adding the following lines to your app&#8217;s precompiled header file (<code>MyApp.pch</code>) will give you two log statements that will automatically be turned off when compiling your app for production:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="cp">#ifdef DEBUG</span>
</span><span class='line'><span class="cp">#define DLog(...) NSLog(@&quot;%s %@&quot;, __PRETTY_FUNCTION__, [NSString stringWithFormat:__VA_ARGS__])</span>
</span><span class='line'><span class="cp">#define ALog(...) [[NSAssertionHandler currentHandler] handleFailureInFunction:[NSString stringWithCString:__PRETTY_FUNCTION__ encoding:NSUTF8StringEncoding] file:[NSString stringWithCString:__FILE__ encoding:NSUTF8StringEncoding] lineNumber:__LINE__ description:__VA_ARGS__]</span>
</span><span class='line'><span class="cp">#else</span>
</span><span class='line'>  <span class="err">#</span><span class="n">define</span> <span class="n">DLog</span><span class="p">(...)</span> <span class="k">do</span> <span class="p">{</span> <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span class='line'>  <span class="err">#</span><span class="n">ifndef</span> <span class="n">NS_BLOCK_ASSERTIONS</span>
</span><span class='line'>    <span class="err">#</span><span class="n">define</span> <span class="n">NS_BLOCK_ASSERTIONS</span>
</span><span class='line'>  <span class="err">#</span><span class="n">endif</span>
</span><span class='line'>  <span class="err">#</span><span class="n">define</span> <span class="n">ALog</span><span class="p">(...)</span> <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;%s %@&quot;</span><span class="p">,</span> <span class="n">__PRETTY_FUNCTION__</span><span class="p">,</span> <span class="p">[</span><span class="n">NSString</span> <span class="nl">stringWithFormat:</span><span class="n">__VA_ARGS__</span><span class="p">])</span>
</span><span class='line'><span class="cp">#endif</span>
</span></code></pre></td></tr></table></div></figure>


<p>As <a href="http://www.cimgf.com/2010/05/02/my-current-prefix-pch-file/">Markus Zarra points out on his blog</a>, <code>DLog</code> will log the given message to the console, along with the name of the method it came from. <code>ALog</code>, on the other hand, will throw an assertion when it gets hit. During development, your application will terminate when it hits this instruction, printing a stacktrace so you can see where your app came from. When compiling for production, <code>DLog</code> will be replaced by a NOOP, whereas <code>ALog</code> will just print the name of the function it came from. This is useful to make sure you will notice these calls during development, whereas your users will not be harmed in production.</p>

<h2>Interactive Debugging</h2>

<p>If you use Xcode, you probably know that you can activate a line breakpoint by clicking on the line number in the editor gutter. Clicking on the breakpoint will temporarily disable it, clicking it again will re-enable it. A not so well-know fact is that you can remove a breakpoint by dragging it out of the gutter. You can also drag the breakpoint indicator to a new position in the gutter to break on a different line in the current method or a different method altogether.</p>

<p>You can edit the properties of a breakpoint, which gives you some interesting and rather unique ways to debug your code. Let&#8217;s look at the various options:</p>

<ol>
<li>The most prominent option is <em>Condition</em>, which gives you the opportunity to only stop execution when a certain condition is met. If you&#8217;re inside a <code>UITableViewController::tableView:cellForRowAtIndexPath:</code> method you will find it convenient to stop when a certain <code>row</code> has been reached. Try this condition: <code>indexPath.row == 2</code> to stop when the third row has been reached.</li>
<li>Another very similar option is <em>Ignore N times before stopping</em>. It&#8217;s not as flexible as a conditional breakpoint, hwoever.</li>
<li>Something which is unique to Xcode is the option to execute a certain action whenever a breakpoint is hit. There are a number of interesting actions, such as:

<ol>
<li>Execute an AppleScript</li>
<li>Capturing an OpenGL ES frame</li>
<li>Issue a Debugger command (more on that later)</li>
<li>Log or speak a message</li>
<li>Execute a shell command</li>
<li>Play a sound</li>
</ol>
</li>
</ol>


<p>Of all those options, speaking a message or playing a sound stand out the most. While you might think these are just toys, they are actually very useful in combination with the option to continue execution after hitting the breakpoint.</p>

<p>Just consider for example an app that waits for the arrival of a background signal while the user does something in the app. Now, if you place a breakpoint on the line that receives the background signal and configure the breakpoint to play a signal or speak a message, you can go on an exercise the app in the foreground while waiting for the background message to arrive. As soon as the message arrives, you&#8217;ll hear the sound play and can take appropriate actions.</p>

<p>In addition to regular and conditional breakpoints, there are two other types of breakpoints worth knowing about:</p>

<ol>
<li><em>Exception breakpoints</em> are useful for stopping program execution whenever an exception is thrown. You can choose whether to stop on throwing or cathing the exception, the default being <em>on throw</em>.</li>
<li><em>Symbolic breakpoints</em> are useful when you want to stop in a pice of code that you don&#8217;t have source code for. Let&#8217;s say you&#8217;re interested in who (and when) calls <code>tableView:numberOfRowsInSection</code>. Just create a new symbolic breakpoint, using the symbol <code>tableView:numberOfRowsInSection</code>. The debugger will now break whenever any piece of code in your app sends this very message - no matter if it&#8217;s your code or code from a third party.</li>
</ol>


</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Peter Friese</span></span>

      








  


<time datetime="2013-11-20T14:36:00+00:00" pubdate data-updated="true">Nov 20<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/debugging/'>Debugging</a>, <a class='category' href='/blog/categories/nslog/'>NSLog</a>, <a class='category' href='/blog/categories/xcode/'>Xcode</a>, <a class='category' href='/blog/categories/ios/'>iOS</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.peterfriese.de/debugging-tips-for-ios-developers+copy/" data-via="peterfriese" data-counturl="http://www.peterfriese.de/debugging-tips-for-ios-developers+copy/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
  
  	<a class="FlattrButton" style="display:none;"
    title="Debugging Tips for iOS Developers"
    data-flattr-uid="peterfriese"
    data-flattr-tags=""
    data-flattr-button="compact"
    data-flattr-category="text"
    href="http://www.peterfriese.de/debugging-tips-for-ios-developers+copy/">
    
</a>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left articlenav" href="/android-testing-with-robolectric/" title="Previous Post: Android Testing with Robolectric">&laquo; Android Testing with Robolectric</a>
      
      
        <a class="basic-alignment right articlenav" href="/debugging-tips-for-ios-developers/" title="Next Post: Debugging Tips for iOS Developers">Debugging Tips for iOS Developers &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>About me</h1>
  <img src="/images/peter/peter_sylt_300x200.png" alt="Peter Friese"  width="100%"/>
  I am a <a href="http://www.zuehlke.com/">software architect</a>, mobile application developer, technical writer, <a href="http://www.peterfriese.de/speaking/">public speaker</a> and open source committer. I have worked on a broad range of software systems, but I focus mainly on native and <a href="http://www.slideshare.net/peterfriese/cross-platform-mobile-development-11239246">cross-platform</a> mobile software development (iOS, Android, Windows Phone 7, mobile web), model-driven software development and Eclipse as a platform!
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/debugging-tips-for-ios-developers/">Debugging Tips for iOS Developers</a>
      </li>
    
      <li class="post">
        <a href="/debugging-tips-for-ios-developers+copy/">Debugging Tips for iOS Developers</a>
      </li>
    
      <li class="post">
        <a href="/android-testing-with-robolectric/">Android Testing with Robolectric</a>
      </li>
    
      <li class="post">
        <a href="/annotated-links-issue-5/">Annotated Links, Issue 5</a>
      </li>
    
      <li class="post">
        <a href="/annotated-links-issue-4/">Annotated Links, Issue 4</a>
      </li>
    
  </ul>
</section>

  



<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/peterfriese">@peterfriese</a> on GitHub
  
  <script src="/javascripts/github.js" type="text/javascript"> </script>  
  <script type="text/javascript">
      if (!window.jXHR){
          var jxhr = document.createElement('script');
          jxhr.type = 'text/javascript';
          jxhr.src = '/javascripts/libs/jXHR.js';
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(jxhr, s);
      }
      github.showRepos({
          user: 'peterfriese',
          count: 10,
          sortByDate: true,
          skip_forks: true,
          target: '#gh_repos'
      });
  </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("peterfriese", 5, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/peterfriese" class="twitter-follow-button" data-show-count="true">Follow @peterfriese</a>
  
</section>


<a class="FlattrButton" style="display:none;" rev="flattr;button:compact;" href="http://www.peterfriese.de"></a>
<noscript>
  <a href="https://flattr.com/thing/2943/Peter-Frieses-Blog" target="_blank">
    <img src="http://api.flattr.com/button/flattr-badge-large.png" alt="Flattr this" title="Flattr this" border="0" />
  </a>
</noscript>

<section>
  <h1>On Delicious</h1>
  <div id="delicious"></div>
  <script type="text/javascript" src="http://feeds.delicious.com/v2/json/freter?count=3&amp;sort=date&amp;callback=renderDeliciousLinks"></script>
  <p><a href="http://delicious.com/freter">My Delicious Bookmarks &raquo;</a></p>
</section>




  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Peter Friese -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'peterfriese';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://www.peterfriese.de/debugging-tips-for-ios-developers+copy/';
        var disqus_url = 'http://www.peterfriese.de/debugging-tips-for-ios-developers+copy/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




<!-- FancyBox -->
<script type="text/javascript" src="/javascripts/jquery-1.9.0.min.js"></script>
<script type="text/javascript" src="/javascripts/jquery.fancybox.pack.js?v=2.1.4"></script>
<script type="text/javascript">
$(document).ready(function() {
	$(".fancybox").fancybox({
		prevEffect		: 'none',
		nextEffect		: 'none',
		helpers		: {
			title	: { type : 'inside' }
		}
	});
});
</script>

</body>
</html>
